\chapter{Quattro preludi categoriali}
\Todo{(Questa è l'introduzione che abbozzai anni fa, la metto qui solo per esporla alla vista e ne parleremo seriamente solo verso la fine)}
La teoria delle categorie è una parte della matematica molto giovane se confrontata con il calcolo differenziale; è certamente una fanciulla quando viene posta a fianco di alberi antichi come la geometria e la logica. Si è sviluppata rapidamente, nello spazio di pochi decenni.

Tuttavia, durante ultimi tre quarti di secolo, due generazioni di persone\footnote{Voi che vi apprestate a leggere questo libro fate probabilmente parte della terza o quarta generazione; noi che lo scriviamo, siamo appena un pelo più anziani.} hanno iniziato a riorganizzare  con enorme vitalità e in maniera sistematica, mediante questo linguaggio, l'insieme delle conoscenze della matematica moderna, fino a tentare l'ambizioso progetto di diventare un loro possibile fondamento.

\medskip
Un modo di raccontare cos'è la teoria delle categorie è quindi questo: un altro tentativo di unificare la matematica grazie a poche, ricorrenti idee universali, `evidenti alla pratica quotidiana' del matematico che lavora.

Fermarsi qui però tradirebbe parte della sua storia. La teoria delle categorie nasce infatti anche con un intento molto più concreto e squisitamente \emph{pratico}, che si può riassumere nel desiderio da parte di chi l'ha inventata, Saunders Mac Lane e Samuel Eilenberg, di formalizzare la seguente situazione in cui ogni matematico che lavora, conscio o meno di ciò, si è trovato.

Viene data una famiglia di funzioni
\[\alpha_A : A' \to A'' \]
dove $A',A''$ sono insiemi `definiti in termini' di un certo altro insieme $A$, e le varie `componenti' $\alpha_A$ `variano con continuità' al variare di $A$: questo vuol dire che quando la corrispondenza $(\_)' : A\mapsto A'$ è definita in modo da indurre una funzione $u' : A' \to B'$ per ogni $u : A \to B$, e altrettanto è vero per la corrispondenza $A\mapsto A''$, le varie $\alpha_A, \alpha_B,\dots$ sono `compatibili' con le $u$: significa che, per ogni $u$ come sopra, la composizione di funzioni
\[
\vcenter{\xymatrix{
  A'\ar[r]^{u'}\ar[d]_{\alpha_A} & B'\ar[d]^{\alpha_B} \\
  A'' \ar[r]_{u''} & B''
}}
\]
lungo i due possibili cammini che percorrono il quadrato, da $A'$ a $B''$, dà lo stesso risultato: il quadrato così ottenuto si dice \emph{commutativo}, le corrispondenze $(\_)'$ e $(\_)''$ si dicono \emph{funtori}, e l'insieme di tutte le $\alpha_A$ si dice una \emph{trasformazione naturale}.

Anche ad un occhio allenato, questa definizione non appare immediata: quale fenomeno stiamo cercando di catturare? Perché questa condizione è comune nella pratica? Non è chiaro quali siano degli esempi di funtore, perché abbiamo disegnato un quadrato, e non, ad esempio, un pentagono
\[bla\]
o una stella
\[bla.\]
Sta di fatto che la nozione di \emph{naturalità} si nasconde in ogni angolo della pratica matematica. Forse anche per questo, essa è per lungo tempo sfuggita a una formalizzazione matematica precisa, e in effetti ha costretto Mac Lane ed Eilenberg a definire preliminarmente gli altri concetti su cui riposa, nel loro articolo introduttivo \cite{gtone}: quello di \emph{funtore}, per spiegare cosa sia la corrispondenza $A\mapsto A'$, e quello di \emph{categoria}, per spiegare quale tipo di struttura possiedano il dominio e il codominio di questa corrispondenza.

In effetti, non è subito chiaro quale regola assegni ad $A$ un `nuovo' insieme $A'$ (in quale senso cioè $A'$ sia producibile mediante `operazioni elementari' a partire da $A$: quante ne esistono, e come sono definite? Il prodotto cartesiano di insiemi è una di queste operazioni? E l'insieme di tutte le funzioni $A\to B$?), né è chiaro in quale senso esattamente la `compatibilità' di cui sopra, soddisfatta dalle $\alpha_A$, si possa spiegare; è possibile costruire molti esempi (ne vedremo, in effetti, centinaia in questo libro), ma non è chiaro quali regole ne permettano la generazione. Per così dire: per un insieme di funzioni $\alpha_A : A' \to A''$, `quanto è naturale essere naturale'? Con pazienza, durante i vari capitoli di questo libro, risponderemo a queste domande essenziali, e molte altre.

\medskip
Vale la pena indulgere, ora, in una nota terminologica; le parole \emph{categoria} e \emph{funtore} sono dei prestiti da aree del pensiero piuttosto illustri. Per quanto riguarda la prima, sarebbe offensivo ricordare da dove viene --basterà a chi legge sapere che per noi le categorie sono in numero maggiore di dieci, e decideranno da soli se questo è un bene o un male.

La parola \emph{funtore}, invece, è invece attestata per la prima volta in Kotarbi\'nski \cite{kotarbione} e Carnap \cite{carnappio}, dove viene definito come una `\emph{corrispondenza che agisce su un insieme di frasi in una grammatica, eventualmente alterando la loro struttura, ma preservando le relazioni che sussistono tra gli elementi delle frasi}' (cf. anche \cite{Curry1961SomeLA} dove i funtori vengono definiti, appoggiandosi a \cite{kotarbione} come operatori che agiscono sulle frasi del linguaggio per formarne altre; nel linguaggio giocattolo dei sami, teteli e tanteti di \cite{Curry1961SomeLA} il sufisso ${\_}_1b$ e l'infisso ${\_}_1 c {\_}_2$ agiscono come funtori).

In questo preciso senso il prestito terminologico ha senso: la matematica è un linguaggio, si sente ripetere ovunque; allora un funtore è una regola che trasforma alcuni componenti fondamentali $A$ di un linguaggio $\mathcal{L}$, eventualmente alterando la loro struttura interna, ma preservando le \emph{relazioni} che sussistono tra quelle componenti e l'esterno.

La componente $A$ però ora non è una parte del discorso in un linguaggio naturale; è un `elemento' di un oggetto --spesso gigantesco: \emph{tutti} i gruppi, \emph{tutti} gli insiemi, senza eccezione-- $\mathcal{L}$, che si chiamerà una `categoria'; un funtore viene definito come una relazione funzionale tra linguaggi, che `preserva l'analisi logica'; per noi, è una relazione funzionale tra linguaggi, che preserva, in qualche modo da determinare, le relazioni che sussistono tra le loro diverse parti.

In questo senso la nozione data da Mac Lane ed Eilenberg in \cite{gtone} stava fondando un approccio \emph{relazionale} alla costruzione e alla comprensione degli oggetti matematici; questa introduzione non è il luogo adatta ad approfondire la questione dal punto di vista storico (e ancor meno da quello filosofico); chi legge consulti pure \cite{marquis, kromer}.

\medskip
Fare quindi della teoria delle categorie una disciplina eminentemente astratta, che mal tollera la motivazione concreta, originale, dietro le definizioni della matematica --tale motivazione è sempre radicata nell'esperienza sensibile, solo talvolta un po' meno direttamente-- tradisce pienamente la verità storica.

All'esatto contrario, lo spirito che ha animato la teoria delle categorie è quello di una comunità di matematici che hanno tentato indefessamente di spiegare in termini di pochi e semplici concetti essenziali la natura e il comportamento di concetti matematici che a prima vista erano del tutto scorrelati: la teoria delle categorie è costruita secondo alcune scelte stilistiche che nella loro apparente ingenuità hanno dato diversi frutti. Senza nessuna pretesa di completezza o di autorità, proviamo a descrivere quali sono queste idee.
\begin{itemize}
  \item Gli assiomi che fondano una teoria devono essere pochi e ben motivati, vuoi dall'esperienza sensibile, vuoi dal numero elevato di esempi vantaggiosi che \emph{quegli} assiomi, e non altri, riescono a descrivere. Al di fuori della teoria delle categorie, la teoria della misura è un esempio relativamente buono di questo tipo di ragione.\footnote{Un cattivo esempio, invece, è la teoria degli insiemi: l'esempio è stato fatto da Jean Bénabou e lo riportiamo senza pretesa di essere letterali: per costruire l'insieme delle coppie ordinate $(a,b)$ a partire da due insiemi $A,B$ è necessario, formalmente parlando, considerare l'insieme $2^{2^{A\cup B}}$, per poi restringere il discorso alle coppie di una certa forma. In particolare, per considerare il prodotto cartesiano $\mathbf{N} \times \mathbf{N}$ di due copie dei naturali --insieme di cui \emph{certamente} vogliamo essere in grado di parlare, va considerato l'insieme $2^{2^{\mathbf{N} \cup \mathbf{N}}}$: questo insieme è gigantesco, e Bénabou definisce `aberrante' la pratica di doverlo considerare per parlare di un oggetto tanto semplice quanto l'insieme che contiene $(2,2), (3,7), (12, 259)\dots$ eccetera. In teoria delle categorie, invece, il prodotto cartesiano $A\times B$ è definito in maniera molto più snella, e non meno rigorosa.}
  \item La matematica deve essere ispirata a un principio di ergonomia e modularità; deve essere relativamente semplice e intuitivo maneggiare gli enti che compongono una teoria, e deve essere chiaro come poter esportare alcuni suoi frammenti a un contesto diverso: che differenza c'è, in ultima istanza, tra un monoide, un anello, e un gruppo dove le operazioni di moltiplicazione e inversione sono continue rispetto a una topologia? In questo senso, la matematica deve essere ispirata a un canone simile a quello che orienta la scrittura di `buon' codice sorgente quando si programma. Tutti sono capaci di scrivere una funzione che calcola un fattoriale; già meno persone sono capaci di farlo tenendo d'occhio il costo computazionale, la leggibilità, la mantenibilità della teoria/libreria dove quel teorema/codice è immerso.
  \item Quando teorie diverse possiedono dei tratti comuni, esiste una spiegazione profonda, non accidentale per questo. Lo scopo --o l'effetto-- di una parte piuttosto vasta di teoria delle categorie è stato di trovare questa spiegazione profonda, renderla evidente e cercare di portarla alle sue estreme conseguenze. Le applicazioni maggiori di questo principio si possono apprezzare in `discipline dalla natura altamente dialettica' (una locuzione rubata a \cite{}, una lettura squisita che invitiamo chi legge a reperire a ogni costo), come la geometria e la logica; ma abbondano anche gli esempi in algebra astratta (vedremo questa idea in azione proprio quando cercheremo di `spiegare' il motivo per cui tutti i teoremi di isomorfismo si somigliano tra loro).
  % \item La matematica possiede un certo grado di auto-referenzialità: le teorie matematiche si possono apprezzare come un certo tipo particolare di oggetto matematico, che può essere compreso mediante il linguaggio matematico. Lungi dall'essere una fumosa affermazione filosofica, questa idea viene sostanziata mediante il linguaggio delle categorie.
\end{itemize}
L'opinione di noi che scriviamo è che questo punto di vista, al di là dei suoi meriti concreti, misurabili, confermi come lo scibile matematico non sia appannaggio di una ristretta cerchia di eletti, e al contrario che esso sia alla portata di chiunque lo voglia cogliere, quando esso sia espresso in termini di pochi concetti fondamentali che riescano a delineare cosa, all'interno delle verità del linguaggio, è una tautologia, e concentrare le proprie energie sul comprendere appieno ciò che non è tautologico. Se è vero che il discente paga un prezzo all'ingresso, perché non deve solo imparare dei concetti, ma anche abituarsi a \emph{pensare} in maniera diversa la matematica che conosce, i rudimenti del linguaggio categoriale rendono più semplice veloce ed efficiente apprezzare la natura intima di definizioni molto diverse tra loro, nate per risolvere problemi diversi, e sviluppate in dialetti diversi.

Ben più di una certa cattiva divulgazione che mescola la matematica pura con la cucina o col giardinaggio, questo approccio riesce a mostrare che la matematica è `alla portata di tutti', e secondo noi colpendo certamente più al cuore di quei tentativi.

\medskip
Lo scopo delle brevi sezioni che seguono e che chiudono questa introduzione è di presentare quattro `preludi' categoriali, raccolti dai vari àmbiti del bagaglio culturale di uno studente che è alla fine di una laurea triennale in una generica università italiana.

L'accento, per ora, non è sul rigore, ma sul giusto grado di espressività e generalità.
\section*{Abelianizzazione, o `naturalità'}
Consideriamo un gruppo $G$, la cui operazione è denotata moltiplicativamente; in esso, consideriamo il sottogruppo generato dagli elementi della forma
\[[x,y]:= xyx^{-1}y^{-1}\]
al variare di $x,y\in G$. Si tratta quindi del sottogruppo i cui elementi sono i `commutatori' della forma
\[t = [x_1,y_1][x_2,y_2]\cdots[x_n,y_n]\]
al variare di $x_i,y_i\in G$ e $n\ge 0$ in $\mathbf{N}$ (se $n=0$, il prodotto è vuoto e quindi l'elemento in questione è uguale all'identità di $G$): è infatti facile vedere che l'inverso $[x,y]^{-1}$ di un commutatore è a sua volta un commutatore.

\`E altresì facile mostrare che il sottogruppo $[G,G]$ è normale in $G$, e che è il sottogruppo minimale con la proprietà che il quoziente $G/[G,G]$ è abeliano (cioè, se $N$ è normale e $G/N$ è abeliano, allora $N$ contiene $[G,G]$).

Il gruppo $G/[G,G]$ prende il nome di \emph{abelianizzato} di $G$, si denota a volte con $G^\text{a}$, e soddisfa la seguente proprietà:
\begin{enumerate}
%   \item \emph{ammissibilità}: $G^\text{a}$ è un gruppo abeliano;
  \item \emph{universalità}: esiste un unico omomorfismo $\alpha : G \to G^\text{a}$ con la seguente `proprietà universale': per ogni omomorfismo di gruppi $f : G \to A$, di codominio un gruppo abeliano $A$, esiste un unico omomorfismo di gruppi $\bar f : G^\text{a} \to A$ con la proprietà che $\bar f \circ \alpha = f$.
\end{enumerate}
\begin{remark}
Si può pensare a $G\mapsto G^\text{a}$ come ad una `costruzione' che ad un gruppo $G$ associa un altro gruppo $G^\text{a}$, definito da una certa proprietà; questa associazione è poi responsiva al fatto che tra gruppi distinti $G,H$ possono esistere degli omomorfismi $f : G \to H$, nel senso che segue:
\begin{quote}
Dato un omomorfismo di gruppi $f : G \to H$ esiste un omomorfismo $f^\text{a} : G^\text{a} \to H^\text{a}$ tra gli abelianizzati di $G,H$, definito mandando una classe di equivalenza $g\cdot [G,G]$ in $f(g)\cdot [H,H]$.
\end{quote}
L'unica cosa da verificare è che $f^\text{a}$ così definita sia veramente una funzione; del resto, $f$ manda $[G,G]$ in $[H,H]$ (perché $f[x,y]=[fx, fy]\in [H,H]$), e quindi la tesi segue.
\end{remark}
\begin{remark}
  L'idea intuitiva che questa sezione vuole comunicare è che tutte le proprietà matematiche di una certa importanza si possono rifrasare nello stesso modo; la costruzione che produce $G^\text{a}$ è un esempio particolare di una pratica generale, quella di definire un oggetto matematico mediante una certa \emph{proprietà universale}, che cioè somigli alla proprietà di $G^\text{a}$.

  Siamo posti di fronte al problema di costruire un oggetto con certe proprietà. Se (è possibile trovarlo e) una volta che lo si è costruito esso soddisfa un requisito di universalità (che superficialmente cambia di volta in volta, ma che a conti fatti chiede sempre la stessa cosa: per ogni `diagramma' della tal forma, esiste un \emph{unico} omomorfismo della tale altra forma, per cui\dots), esso è \emph{univocamente determinato} da questa proprietà.
\end{remark}
\`E ora conveniente pensare agli omomorfismi di gruppo --e in effetti, relativi a qualsiasi altra struttura: i gruppi non hanno niente di speciale qui-- come `deformazioni' di una struttura di tipo $G$ in una di tipo $H$. In questo senso, l'assegnazione $G\mapsto G^\text{a}$ è speciale in due sensi: prima di tutto, ogni gruppo $G$ ha un omomorfismo canonico $\pi_G : G \to G^\text{a}$ di proiezione al quoziente; secondo, per ogni $f : G \to H$ le condizioni sopra sono verificate.
\section*{Teoremi di isomorfismo, o `universalità'}
I teoremi di isomorfismo nelle diverse strutture dicono tutti la stessa cosa
\section*{Completamenti, o `aggiunzioni'}
Il completamento di uno spazio metrico (e l'esempio dei reali)
\section*{Il teorema di Brouwer, o `funtorialità'}
Dimostrare una cosa difficile `muovendo le mani'
\begin{exercises}
\item \label{ex_prelude_1} un exercise sul primo preludio
\item \label{ex_prelude_2} un exercise sul secondo preludio
\item \label{ex_prelude_3} un exercise sul terzo preludio
\item \label{ex_prelude_4} un exercise sul quarto preludio
\end{exercises}